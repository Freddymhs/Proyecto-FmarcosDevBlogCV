{"expireTime":9007200894083853000,"key":"transformer-remark-markdown-html-ast-26fc56b5fcb72e5583bd579d6237993a-gatsby-remark-imagesgatsby-remark-external-linksgatsby-remark-prismjs-","val":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"usando PassportJS en NODE","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":28,"offset":28}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":28,"offset":28}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"requerimientos instalacion","position":{"start":{"line":4,"column":6,"offset":35},"end":{"line":4,"column":32,"offset":61}}}],"position":{"start":{"line":4,"column":3,"offset":32},"end":{"line":4,"column":32,"offset":61}}},{"type":"text","value":"\n"}],"position":{"start":{"line":4,"column":1,"offset":30},"end":{"line":5,"column":1,"offset":62}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"listado packages npm","position":{"start":{"line":6,"column":3,"offset":65},"end":{"line":6,"column":23,"offset":85}}}],"position":{"start":{"line":6,"column":3,"offset":65},"end":{"line":6,"column":23,"offset":85}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"<pre>\npassport\npassport-google-oauth20\n</pre>","position":{"start":{"line":7,"column":5,"offset":90},"end":{"line":10,"column":11,"offset":147}}},{"type":"text","value":"\n"}],"position":{"start":{"line":7,"column":3,"offset":88},"end":{"line":10,"column":11,"offset":147}}},{"type":"text","value":"\n"}],"position":{"start":{"line":7,"column":3,"offset":88},"end":{"line":10,"column":11,"offset":147}}},{"type":"text","value":"\n"}],"position":{"start":{"line":6,"column":1,"offset":63},"end":{"line":10,"column":11,"offset":147}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"complementos","position":{"start":{"line":11,"column":3,"offset":150},"end":{"line":11,"column":15,"offset":162}}}],"position":{"start":{"line":11,"column":3,"offset":150},"end":{"line":11,"column":15,"offset":162}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://www.passportjs.org/packages/passport-google-oauth20/","target":"_blank","rel":"nofollow"},"children":[{"type":"text","value":"documentacion de passportJS","position":{"start":{"line":13,"column":6,"offset":169},"end":{"line":13,"column":33,"offset":196}}}],"position":{"start":{"line":13,"column":5,"offset":168},"end":{"line":13,"column":95,"offset":258}}}],"position":{"start":{"line":13,"column":3,"offset":166},"end":{"line":13,"column":95,"offset":258}}},{"type":"text","value":"\n"}],"position":{"start":{"line":13,"column":3,"offset":166},"end":{"line":13,"column":95,"offset":258}}},{"type":"text","value":"\n"}],"position":{"start":{"line":11,"column":1,"offset":148},"end":{"line":14,"column":1,"offset":259}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"paso 1 en el proyecto","position":{"start":{"line":15,"column":3,"offset":262},"end":{"line":15,"column":24,"offset":283}}}],"position":{"start":{"line":15,"column":1,"offset":260},"end":{"line":15,"column":24,"offset":283}}},{"type":"text","value":"\n"}],"position":{"start":{"line":4,"column":1,"offset":30},"end":{"line":15,"column":24,"offset":283}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm i passport passport-google-oauth20</code></pre></div>","position":{"start":{"line":17,"column":1,"offset":285},"end":{"line":19,"column":4,"offset":331}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"paso 2 en el navegador web","position":{"start":{"line":21,"column":3,"offset":335},"end":{"line":21,"column":29,"offset":361}}}],"position":{"start":{"line":21,"column":3,"offset":335},"end":{"line":21,"column":29,"offset":361}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ingresar a ","position":{"start":{"line":23,"column":6,"offset":368},"end":{"line":23,"column":17,"offset":379}}},{"type":"element","tagName":"a","properties":{"href":"https://console.developers.google.com/","target":"_blank","rel":"nofollow"},"children":[{"type":"text","value":"Developer Console de Google","position":{"start":{"line":23,"column":18,"offset":380},"end":{"line":23,"column":45,"offset":407}}}],"position":{"start":{"line":23,"column":17,"offset":379},"end":{"line":23,"column":86,"offset":448}}}],"position":{"start":{"line":23,"column":3,"offset":365},"end":{"line":23,"column":86,"offset":448}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"crear PROYECTO ejemplo ","position":{"start":{"line":24,"column":6,"offset":454},"end":{"line":24,"column":29,"offset":477}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"passportjs-practicaoauth2","position":{"start":{"line":24,"column":31,"offset":479},"end":{"line":24,"column":56,"offset":504}}}],"position":{"start":{"line":24,"column":29,"offset":477},"end":{"line":24,"column":58,"offset":506}}}],"position":{"start":{"line":24,"column":3,"offset":451},"end":{"line":24,"column":58,"offset":506}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ingresa a ","position":{"start":{"line":25,"column":6,"offset":512},"end":{"line":25,"column":16,"offset":522}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Credentials","position":{"start":{"line":25,"column":18,"offset":524},"end":{"line":25,"column":29,"offset":535}}}],"position":{"start":{"line":25,"column":16,"offset":522},"end":{"line":25,"column":31,"offset":537}}},{"type":"text","value":" y asegurate de tener seleccionado tu aplicacion","position":{"start":{"line":25,"column":31,"offset":537},"end":{"line":25,"column":79,"offset":585}}}],"position":{"start":{"line":25,"column":3,"offset":509},"end":{"line":25,"column":79,"offset":585}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ir a ","position":{"start":{"line":26,"column":6,"offset":591},"end":{"line":26,"column":11,"offset":596}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"CONFIGURAR PANTALLA DE CONSENTIMIENTO","position":{"start":{"line":26,"column":13,"offset":598},"end":{"line":26,"column":50,"offset":635}}}],"position":{"start":{"line":26,"column":11,"offset":596},"end":{"line":26,"column":52,"offset":637}}},{"type":"text","value":" O ","position":{"start":{"line":26,"column":52,"offset":637},"end":{"line":26,"column":55,"offset":640}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"CONFIGURE CONSENT SCREEN","position":{"start":{"line":26,"column":57,"offset":642},"end":{"line":26,"column":81,"offset":666}}}],"position":{"start":{"line":26,"column":55,"offset":640},"end":{"line":26,"column":83,"offset":668}}}],"position":{"start":{"line":26,"column":3,"offset":588},"end":{"line":26,"column":83,"offset":668}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Marcar opciones ","position":{"start":{"line":27,"column":6,"offset":674},"end":{"line":27,"column":22,"offset":690}}},{"type":"text","value":"[User type : EXTERNAL]","position":{"start":{"line":27,"column":23,"offset":691},"end":{"line":27,"column":43,"offset":711}}},{"type":"text","value":" y \"CREAR\"","position":{"start":{"line":27,"column":44,"offset":712},"end":{"line":27,"column":54,"offset":722}}}],"position":{"start":{"line":27,"column":3,"offset":671},"end":{"line":27,"column":54,"offset":722}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"asignar:\na. nombre a la app ","position":{"start":{"line":28,"column":6,"offset":728},"end":{"line":29,"column":25,"offset":761}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"passportjs-practicaoauth2","position":{"start":{"line":29,"column":27,"offset":763},"end":{"line":29,"column":52,"offset":788}}}],"position":{"start":{"line":29,"column":25,"offset":761},"end":{"line":29,"column":54,"offset":790}}},{"type":"text","value":"\nb. correo a la app para asistencias\nc. correo del developer y \"Guardar y continuar\"","position":{"start":{"line":29,"column":54,"offset":790},"end":{"line":31,"column":53,"offset":884}}}],"position":{"start":{"line":28,"column":3,"offset":725},"end":{"line":31,"column":53,"offset":884}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Regresar a ","position":{"start":{"line":32,"column":6,"offset":890},"end":{"line":32,"column":17,"offset":901}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Credentials","position":{"start":{"line":32,"column":19,"offset":903},"end":{"line":32,"column":30,"offset":914}}}],"position":{"start":{"line":32,"column":17,"offset":901},"end":{"line":32,"column":32,"offset":916}}},{"type":"text","value":" e ir a ","position":{"start":{"line":32,"column":32,"offset":916},"end":{"line":32,"column":40,"offset":924}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"create credentials","position":{"start":{"line":32,"column":42,"offset":926},"end":{"line":32,"column":60,"offset":944}}}],"position":{"start":{"line":32,"column":40,"offset":924},"end":{"line":32,"column":62,"offset":946}}},{"type":"text","value":" selecciona ","position":{"start":{"line":32,"column":62,"offset":946},"end":{"line":32,"column":74,"offset":958}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"OAUTH client ID","position":{"start":{"line":32,"column":76,"offset":960},"end":{"line":32,"column":91,"offset":975}}}],"position":{"start":{"line":32,"column":74,"offset":958},"end":{"line":32,"column":93,"offset":977}}},{"type":"text","value":"\na. selecciona tipo de aplicacion : \"aplicacion web\"\nb. nombre ","position":{"start":{"line":32,"column":93,"offset":977},"end":{"line":34,"column":16,"offset":1050}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"passportjs-practicaoauth2","position":{"start":{"line":34,"column":18,"offset":1052},"end":{"line":34,"column":43,"offset":1077}}}],"position":{"start":{"line":34,"column":16,"offset":1050},"end":{"line":34,"column":45,"offset":1079}}},{"type":"text","value":"\nc. URI de redireccionamiento autorizados : ","position":{"start":{"line":34,"column":45,"offset":1079},"end":{"line":35,"column":49,"offset":1128}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://localhost:3000/google/callback","target":"_blank","rel":"nofollow"},"children":[{"type":"text","value":"http://localhost:3000/google/callback","position":{"start":{"line":35,"column":51,"offset":1130},"end":{"line":35,"column":88,"offset":1167}}}],"position":{"start":{"line":35,"column":51,"offset":1130},"end":{"line":35,"column":88,"offset":1167}}}],"position":{"start":{"line":35,"column":49,"offset":1128},"end":{"line":35,"column":90,"offset":1169}}}],"position":{"start":{"line":32,"column":3,"offset":887},"end":{"line":35,"column":90,"offset":1169}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Ahora recibes tus datos de acceso!\na. tu ID CLIENTE: 416807314987-n43k7d1bqo7mbspglqsdqousk4vcfmhk.apps.googleusercontent.com\nb. tu ID secreto del CLIENTE: saXjPDAmNtVWVZfIEHxq3BRd","position":{"start":{"line":36,"column":6,"offset":1175},"end":{"line":38,"column":60,"offset":1365}}}],"position":{"start":{"line":36,"column":3,"offset":1172},"end":{"line":38,"column":60,"offset":1365}}},{"type":"text","value":"\n"}],"position":{"start":{"line":23,"column":3,"offset":365},"end":{"line":38,"column":60,"offset":1365}}},{"type":"text","value":"\n"}],"position":{"start":{"line":21,"column":1,"offset":333},"end":{"line":39,"column":1,"offset":1366}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"paso 3 en el proyecto","position":{"start":{"line":40,"column":3,"offset":1369},"end":{"line":40,"column":24,"offset":1390}}}],"position":{"start":{"line":40,"column":1,"offset":1367},"end":{"line":40,"column":24,"offset":1390}}},{"type":"text","value":"\n"}],"position":{"start":{"line":21,"column":1,"offset":333},"end":{"line":40,"column":24,"offset":1390}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"new file authenticate.js en la raiz","position":{"start":{"line":42,"column":1,"offset":1392},"end":{"line":42,"column":36,"offset":1427}}}],"position":{"start":{"line":42,"column":1,"offset":1392},"end":{"line":42,"column":36,"offset":1427}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var passport = require(&#39;passport&#39;)\nvar GoogleStrategy = require(&#39;passport-google-oauth20&#39;).Strategy;\n//import passport from &#39;passport&#39;\n//import GoogleStrategy from &quot;passport-google-oauth20&quot;;\n//const Google = GoogleStrategy.Strategy;\n\n\n/*serializacion de datos*/\npassport.serializeUser(function(user, done) {\n  done(null, user);\n});\n\npassport.deserializeUser(function(user, done) {\n  done(null, user);\n});\n/*basic configure*/\npassport.use(new GoogleStrategy({\n    clientID: &quot;416807314987-n43k7d1bqo7mbspglqsdqousk4vcfmhk.apps.googleusercontent.com&quot;,\n    clientSecret: &quot;saXjPDAmNtVWVZfIEHxq3BRd&quot;,\n    callbackURL: &quot;http://localhost:3000/google/callback&quot;\n  },\n  function(accessToken, refreshToken, profile, cb) {\n      /*Usuario Registrados*/\n      console.log(profile);\n      cb(null,profile)\n\n  }\n));</code></pre></div>","position":{"start":{"line":44,"column":1,"offset":1429},"end":{"line":73,"column":4,"offset":2236}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"en app.js importar","position":{"start":{"line":75,"column":1,"offset":2238},"end":{"line":75,"column":19,"offset":2256}}}],"position":{"start":{"line":75,"column":1,"offset":2238},"end":{"line":75,"column":19,"offset":2256}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var passport = require(&#39;passport&#39;)// necesario\n//import passport from &#39;passport&#39;;</code></pre></div>","position":{"start":{"line":77,"column":1,"offset":2258},"end":{"line":80,"column":4,"offset":2347}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/*revisando passport*/\napp.use(passport.initialize())\nrequire(&#39;./authenticate&#39;); // o import\napp.get(&#39;/google&#39;, passport.authenticate(&#39;google&#39;, { scope: [&#39;profile&#39;, &#39;email&#39;] }));\napp.get(&#39;/google/callback&#39;,    passport.authenticate(&#39;google&#39;, {\n      successRedirect: &#39;/welcome&#39;, // es una &#39;vista&#39;\n      failureRedirect: &#39;/failed&#39;,  // es una &#39;vista&#39;\n    }));</code></pre></div>","position":{"start":{"line":82,"column":1,"offset":2349},"end":{"line":93,"column":4,"offset":2717}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"probar alguna ruta\nir a ","position":{"start":{"line":95,"column":3,"offset":2721},"end":{"line":96,"column":8,"offset":2747}}},{"type":"element","tagName":"a","properties":{"href":"http://localhost:3000/google","target":"_blank","rel":"nofollow"},"children":[{"type":"text","value":"http://localhost:3000/google","position":{"start":{"line":96,"column":8,"offset":2747},"end":{"line":96,"column":36,"offset":2775}}}],"position":{"start":{"line":96,"column":8,"offset":2747},"end":{"line":96,"column":36,"offset":2775}}},{"type":"text","value":" y logearse para ser rerigido a la vista/ruta /welcome","position":{"start":{"line":96,"column":36,"offset":2775},"end":{"line":96,"column":90,"offset":2829}}}],"position":{"start":{"line":95,"column":1,"offset":2719},"end":{"line":96,"column":90,"offset":2829}}},{"type":"text","value":"\n"}],"position":{"start":{"line":95,"column":1,"offset":2719},"end":{"line":96,"column":90,"offset":2829}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"proteger rutas con un middlware","position":{"start":{"line":98,"column":3,"offset":2833},"end":{"line":98,"column":34,"offset":2864}}}],"position":{"start":{"line":98,"column":1,"offset":2831},"end":{"line":98,"column":34,"offset":2864}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"debe ser accesible solo para los que esten logeados","position":{"start":{"line":100,"column":3,"offset":2868},"end":{"line":100,"column":54,"offset":2919}}}],"position":{"start":{"line":100,"column":1,"offset":2866},"end":{"line":100,"column":56,"offset":2921}}}],"position":{"start":{"line":100,"column":1,"offset":2866},"end":{"line":100,"column":56,"offset":2921}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"1- crear MIDDLEWARE/proteccion check is logged or not","position":{"start":{"line":102,"column":1,"offset":2923},"end":{"line":102,"column":54,"offset":2976}}}],"position":{"start":{"line":102,"column":1,"offset":2923},"end":{"line":102,"column":54,"offset":2976}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">export function isLogged(req, res, next) { // revisa\n  req.user ? next() : res.sendStatus(401); // revisa google trae usuario\n}</code></pre></div>","position":{"start":{"line":104,"column":1,"offset":2978},"end":{"line":108,"column":4,"offset":3113}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">app.use(&#39;/&#39;,isLogged, mivistahome);</code></pre></div>","position":{"start":{"line":110,"column":1,"offset":3115},"end":{"line":112,"column":4,"offset":3158}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"agregar sessiones para permitirnos ingrsar :]","position":{"start":{"line":114,"column":3,"offset":3162},"end":{"line":114,"column":48,"offset":3207}}}],"position":{"start":{"line":114,"column":1,"offset":3160},"end":{"line":114,"column":48,"offset":3207}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"2- usar sessions , npm i express-session","position":{"start":{"line":116,"column":1,"offset":3209},"end":{"line":116,"column":41,"offset":3249}}}],"position":{"start":{"line":116,"column":1,"offset":3209},"end":{"line":116,"column":41,"offset":3249}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"key , inicializa , inicializa session","position":{"start":{"line":118,"column":3,"offset":3253},"end":{"line":118,"column":40,"offset":3290}}}],"position":{"start":{"line":118,"column":1,"offset":3251},"end":{"line":118,"column":40,"offset":3290}}},{"type":"text","value":"\n"}],"position":{"start":{"line":118,"column":1,"offset":3251},"end":{"line":118,"column":40,"offset":3290}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">app.use(session({ secret: &#39;boby&#39; })); // set my session key\napp.use(passport.initialize()); // session start\napp.use(passport.session()); // session for passport</code></pre></div>","position":{"start":{"line":120,"column":1,"offset":3292},"end":{"line":124,"column":4,"offset":3461}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"y podemos crear el logout","position":{"start":{"line":126,"column":3,"offset":3465},"end":{"line":126,"column":28,"offset":3490}}}],"position":{"start":{"line":126,"column":1,"offset":3463},"end":{"line":126,"column":28,"offset":3490}}},{"type":"text","value":"\n"}],"position":{"start":{"line":126,"column":1,"offset":3463},"end":{"line":126,"column":28,"offset":3490}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">loginRouter.get(&#39;/logout&#39;, (req,res)=&gt;{\n  req.logout();\n  req.session.destroy()\n  // req.session.destroy()\n  res.send(&#39;bye!!&#39;);\n})</code></pre></div>","position":{"start":{"line":128,"column":1,"offset":3492},"end":{"line":135,"column":4,"offset":3630}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"si logramos autenticarnos los dato se guardarne n\nreq.session y este contendra varios objetos uno es PASSPORT , que\nes el que creamos normlamente en app.js 'app.use(passpor.session())'","position":{"start":{"line":137,"column":1,"offset":3632},"end":{"line":139,"column":69,"offset":3816}}}],"position":{"start":{"line":137,"column":1,"offset":3632},"end":{"line":139,"column":69,"offset":3816}}},{"type":"text","value":"\n"},{"type":"raw","value":"<!-- req.session.user = req.user;  -->","position":{"start":{"line":141,"column":1,"offset":3818},"end":{"line":141,"column":39,"offset":3856}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"si imprimimos req.session en el Middleware de isLogged lo vemos.","position":{"start":{"line":143,"column":1,"offset":3858},"end":{"line":143,"column":65,"offset":3922}}}],"position":{"start":{"line":143,"column":1,"offset":3858},"end":{"line":143,"column":65,"offset":3922}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"req.session","position":{"start":{"line":145,"column":3,"offset":3926},"end":{"line":145,"column":14,"offset":3937}}}],"position":{"start":{"line":145,"column":1,"offset":3924},"end":{"line":145,"column":14,"offset":3937}}},{"type":"text","value":"\n"}],"position":{"start":{"line":145,"column":1,"offset":3924},"end":{"line":145,"column":14,"offset":3937}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Session {\n  cookie: { path: &#39;/&#39;, _expires: null, originalMaxAge: null, httpOnly: true },\n  passport: {\n    user: {\n      id: &#39;107809872631362401677&#39;,\n      displayName: &#39;HylianN 92&#39;,\n      name: [Object],\n      emails: [Array],\n      photos: [Array],\n      provider: &#39;google&#39;,\n      _raw: &#39;{\\n&#39; +\n        &#39;  &quot;sub&quot;: &quot;107809872631362401677&quot;,\\n&#39; +\n        &#39;  &quot;name&quot;: &quot;HylianN 92&quot;,\\n&#39; +\n        &#39;  &quot;given_name&quot;: &quot;HylianN&quot;,\\n&#39; +\n        &#39;  &quot;family_name&quot;: &quot;92&quot;,\\n&#39; +\n        &#39;  &quot;picture&quot;: &quot;https://lh3.googleusercontent.com/a-/AOh14GgdK0REtqYRffIuJTZokeTnYB_UncprsTyH18Y6eA\\\\u003ds96-c&quot;,\\n&#39; +\n        &#39;  &quot;email&quot;: &quot;hyliankz@gmail.com&quot;,\\n&#39; +\n        &#39;  &quot;email_verified&quot;: true,\\n&#39; +\n        &#39;  &quot;locale&quot;: &quot;es-419&quot;\\n&#39; +\n        &#39;}&#39;,\n      _json: [Object]\n    }\n  }\n}</code></pre></div>","position":{"start":{"line":147,"column":1,"offset":3939},"end":{"line":173,"column":4,"offset":4703}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"req.session.passport.user.X","position":{"start":{"line":175,"column":1,"offset":4705},"end":{"line":175,"column":28,"offset":4732}}}],"position":{"start":{"line":175,"column":1,"offset":4705},"end":{"line":175,"column":28,"offset":4732}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":176,"column":1,"offset":4733}}}}