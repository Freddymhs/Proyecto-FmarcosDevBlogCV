{"expireTime":9007200878885512000,"key":"transformer-remark-markdown-html-ast-fbcc26f387b9ffea15ef8c4b83796f59-gatsby-remark-imagesgatsby-remark-external-linksgatsby-remark-prismjs-","val":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"usando PassportJS en NODE","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":28,"offset":27}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":28,"offset":27}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"requerimientos instalacion","position":{"start":{"line":3,"column":6,"offset":34},"end":{"line":3,"column":32,"offset":60}}}],"position":{"start":{"line":3,"column":3,"offset":31},"end":{"line":3,"column":32,"offset":60}}},{"type":"text","value":"\n"}],"position":{"start":{"line":3,"column":1,"offset":29},"end":{"line":4,"column":1,"offset":61}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"listado packages npm","position":{"start":{"line":5,"column":3,"offset":64},"end":{"line":5,"column":23,"offset":84}}}],"position":{"start":{"line":5,"column":3,"offset":64},"end":{"line":5,"column":23,"offset":84}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"<pre>\npassport\npassport-google-oauth20\n</pre>","position":{"start":{"line":6,"column":5,"offset":89},"end":{"line":9,"column":11,"offset":146}}},{"type":"text","value":"\n"}],"position":{"start":{"line":6,"column":3,"offset":87},"end":{"line":9,"column":11,"offset":146}}},{"type":"text","value":"\n"}],"position":{"start":{"line":6,"column":3,"offset":87},"end":{"line":9,"column":11,"offset":146}}},{"type":"text","value":"\n"}],"position":{"start":{"line":5,"column":1,"offset":62},"end":{"line":9,"column":11,"offset":146}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"complementos","position":{"start":{"line":10,"column":3,"offset":149},"end":{"line":10,"column":15,"offset":161}}}],"position":{"start":{"line":10,"column":3,"offset":149},"end":{"line":10,"column":15,"offset":161}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://www.passportjs.org/packages/passport-google-oauth20/","target":"_blank","rel":"nofollow"},"children":[{"type":"text","value":"documentacion de passportJS","position":{"start":{"line":11,"column":6,"offset":167},"end":{"line":11,"column":33,"offset":194}}}],"position":{"start":{"line":11,"column":5,"offset":166},"end":{"line":11,"column":95,"offset":256}}},{"type":"text","value":"  ","position":{"start":{"line":11,"column":95,"offset":256},"end":{"line":11,"column":97,"offset":258}}}],"position":{"start":{"line":11,"column":3,"offset":164},"end":{"line":11,"column":97,"offset":258}}},{"type":"text","value":"\n"}],"position":{"start":{"line":11,"column":3,"offset":164},"end":{"line":11,"column":97,"offset":258}}},{"type":"text","value":"\n"}],"position":{"start":{"line":10,"column":1,"offset":147},"end":{"line":12,"column":1,"offset":259}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"paso 1 en el proyecto","position":{"start":{"line":13,"column":3,"offset":262},"end":{"line":13,"column":24,"offset":283}}}],"position":{"start":{"line":13,"column":3,"offset":262},"end":{"line":13,"column":24,"offset":283}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm i passport passport-google-oauth20</code></pre></div>","position":{"start":{"line":14,"column":1,"offset":284},"end":{"line":16,"column":4,"offset":330}}},{"type":"text","value":"\n"}],"position":{"start":{"line":13,"column":1,"offset":260},"end":{"line":16,"column":4,"offset":330}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"paso 2 en el navegador web","position":{"start":{"line":17,"column":3,"offset":333},"end":{"line":17,"column":29,"offset":359}}}],"position":{"start":{"line":17,"column":3,"offset":333},"end":{"line":17,"column":29,"offset":359}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ingresar a ","position":{"start":{"line":18,"column":6,"offset":365},"end":{"line":18,"column":17,"offset":376}}},{"type":"element","tagName":"a","properties":{"href":"https://console.developers.google.com/","target":"_blank","rel":"nofollow"},"children":[{"type":"text","value":"Developer Console de Google","position":{"start":{"line":18,"column":18,"offset":377},"end":{"line":18,"column":45,"offset":404}}}],"position":{"start":{"line":18,"column":17,"offset":376},"end":{"line":18,"column":86,"offset":445}}}],"position":{"start":{"line":18,"column":3,"offset":362},"end":{"line":18,"column":86,"offset":445}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"crear PROYECTO ejemplo ","position":{"start":{"line":19,"column":6,"offset":451},"end":{"line":19,"column":29,"offset":474}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"passportjs-practicaoauth2","position":{"start":{"line":19,"column":31,"offset":476},"end":{"line":19,"column":56,"offset":501}}}],"position":{"start":{"line":19,"column":29,"offset":474},"end":{"line":19,"column":58,"offset":503}}},{"type":"text","value":" ","position":{"start":{"line":19,"column":58,"offset":503},"end":{"line":19,"column":59,"offset":504}}}],"position":{"start":{"line":19,"column":3,"offset":448},"end":{"line":19,"column":59,"offset":504}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ingresa a ","position":{"start":{"line":20,"column":6,"offset":510},"end":{"line":20,"column":16,"offset":520}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Credentials","position":{"start":{"line":20,"column":18,"offset":522},"end":{"line":20,"column":29,"offset":533}}}],"position":{"start":{"line":20,"column":16,"offset":520},"end":{"line":20,"column":31,"offset":535}}},{"type":"text","value":" y asegurate de tener seleccionado tu aplicacion","position":{"start":{"line":20,"column":31,"offset":535},"end":{"line":20,"column":79,"offset":583}}}],"position":{"start":{"line":20,"column":3,"offset":507},"end":{"line":20,"column":79,"offset":583}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ir a ","position":{"start":{"line":21,"column":6,"offset":589},"end":{"line":21,"column":11,"offset":594}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"CONFIGURAR PANTALLA DE CONSENTIMIENTO","position":{"start":{"line":21,"column":13,"offset":596},"end":{"line":21,"column":50,"offset":633}}}],"position":{"start":{"line":21,"column":11,"offset":594},"end":{"line":21,"column":52,"offset":635}}},{"type":"text","value":" O ","position":{"start":{"line":21,"column":52,"offset":635},"end":{"line":21,"column":55,"offset":638}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"CONFIGURE CONSENT SCREEN","position":{"start":{"line":21,"column":57,"offset":640},"end":{"line":21,"column":81,"offset":664}}}],"position":{"start":{"line":21,"column":55,"offset":638},"end":{"line":21,"column":83,"offset":666}}}],"position":{"start":{"line":21,"column":3,"offset":586},"end":{"line":21,"column":83,"offset":666}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Marcar opciones ","position":{"start":{"line":22,"column":6,"offset":672},"end":{"line":22,"column":22,"offset":688}}},{"type":"text","value":"[User type : EXTERNAL]","position":{"start":{"line":22,"column":23,"offset":689},"end":{"line":22,"column":43,"offset":709}}},{"type":"text","value":" y \"CREAR\"","position":{"start":{"line":22,"column":44,"offset":710},"end":{"line":22,"column":54,"offset":720}}}],"position":{"start":{"line":22,"column":3,"offset":669},"end":{"line":22,"column":54,"offset":720}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"asignar:\na. nombre a la app ","position":{"start":{"line":23,"column":6,"offset":726},"end":{"line":24,"column":26,"offset":760}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"passportjs-practicaoauth2","position":{"start":{"line":24,"column":28,"offset":762},"end":{"line":24,"column":53,"offset":787}}}],"position":{"start":{"line":24,"column":26,"offset":760},"end":{"line":24,"column":55,"offset":789}}},{"type":"text","value":"\nb. correo a la app para asistencias\nc. correo del developer y \"Guardar y continuar\"","position":{"start":{"line":24,"column":55,"offset":789},"end":{"line":26,"column":54,"offset":886}}}],"position":{"start":{"line":23,"column":3,"offset":723},"end":{"line":26,"column":54,"offset":886}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Regresar a ","position":{"start":{"line":27,"column":6,"offset":892},"end":{"line":27,"column":17,"offset":903}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Credentials","position":{"start":{"line":27,"column":19,"offset":905},"end":{"line":27,"column":30,"offset":916}}}],"position":{"start":{"line":27,"column":17,"offset":903},"end":{"line":27,"column":32,"offset":918}}},{"type":"text","value":" e ir a ","position":{"start":{"line":27,"column":32,"offset":918},"end":{"line":27,"column":40,"offset":926}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"create credentials","position":{"start":{"line":27,"column":42,"offset":928},"end":{"line":27,"column":60,"offset":946}}}],"position":{"start":{"line":27,"column":40,"offset":926},"end":{"line":27,"column":62,"offset":948}}},{"type":"text","value":" selecciona ","position":{"start":{"line":27,"column":62,"offset":948},"end":{"line":27,"column":74,"offset":960}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"OAUTH client ID","position":{"start":{"line":27,"column":76,"offset":962},"end":{"line":27,"column":91,"offset":977}}}],"position":{"start":{"line":27,"column":74,"offset":960},"end":{"line":27,"column":93,"offset":979}}},{"type":"text","value":"\na. selecciona tipo de aplicacion : \"aplicacion web\"\nb. nombre  ","position":{"start":{"line":27,"column":93,"offset":979},"end":{"line":29,"column":18,"offset":1055}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"passportjs-practicaoauth2","position":{"start":{"line":29,"column":20,"offset":1057},"end":{"line":29,"column":45,"offset":1082}}}],"position":{"start":{"line":29,"column":18,"offset":1055},"end":{"line":29,"column":47,"offset":1084}}},{"type":"text","value":"\nc. URI de redireccionamiento autorizados : ","position":{"start":{"line":29,"column":47,"offset":1084},"end":{"line":30,"column":50,"offset":1134}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://localhost:3000/google/callback","target":"_blank","rel":"nofollow"},"children":[{"type":"text","value":"http://localhost:3000/google/callback","position":{"start":{"line":30,"column":52,"offset":1136},"end":{"line":30,"column":89,"offset":1173}}}],"position":{"start":{"line":30,"column":52,"offset":1136},"end":{"line":30,"column":89,"offset":1173}}}],"position":{"start":{"line":30,"column":50,"offset":1134},"end":{"line":30,"column":91,"offset":1175}}}],"position":{"start":{"line":27,"column":3,"offset":889},"end":{"line":30,"column":91,"offset":1175}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Ahora recibes tus datos de acceso!\na. tu ID CLIENTE: 416807314987-n43k7d1bqo7mbspglqsdqousk4vcfmhk.apps.googleusercontent.com\nb. tu ID secreto del CLIENTE: saXjPDAmNtVWVZfIEHxq3BRd","position":{"start":{"line":31,"column":6,"offset":1181},"end":{"line":33,"column":61,"offset":1373}}}],"position":{"start":{"line":31,"column":3,"offset":1178},"end":{"line":33,"column":61,"offset":1373}}},{"type":"text","value":"\n"}],"position":{"start":{"line":18,"column":3,"offset":362},"end":{"line":33,"column":61,"offset":1373}}},{"type":"text","value":"\n"}],"position":{"start":{"line":17,"column":1,"offset":331},"end":{"line":34,"column":1,"offset":1374}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"paso 3 en el proyecto","position":{"start":{"line":35,"column":3,"offset":1377},"end":{"line":35,"column":24,"offset":1398}}}],"position":{"start":{"line":35,"column":1,"offset":1375},"end":{"line":35,"column":24,"offset":1398}}},{"type":"text","value":"\n"}],"position":{"start":{"line":3,"column":1,"offset":29},"end":{"line":35,"column":24,"offset":1398}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"new file authenticate.js en la raiz","position":{"start":{"line":37,"column":1,"offset":1400},"end":{"line":37,"column":36,"offset":1435}}}],"position":{"start":{"line":37,"column":1,"offset":1400},"end":{"line":37,"column":36,"offset":1435}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var passport = require(&#39;passport&#39;)\nvar GoogleStrategy = require(&#39;passport-google-oauth20&#39;).Strategy;\n//import passport from &#39;passport&#39;\n//import GoogleStrategy from &quot;passport-google-oauth20&quot;;\n//const Google = GoogleStrategy.Strategy; \n\n\n/*serializacion de datos*/\npassport.serializeUser(function(user, done) {\n  done(null, user);\n});\n\npassport.deserializeUser(function(user, done) {\n  done(null, user);\n});\n/*basic configure*/\npassport.use(new GoogleStrategy({\n    clientID: &quot;416807314987-n43k7d1bqo7mbspglqsdqousk4vcfmhk.apps.googleusercontent.com&quot;,\n    clientSecret: &quot;saXjPDAmNtVWVZfIEHxq3BRd&quot;,\n    callbackURL: &quot;http://localhost:3000/google/callback&quot;\n  },\n  function(accessToken, refreshToken, profile, cb) {\n      /*Usuario Registrados*/\n      console.log(profile);\n      cb(null,profile)\n\n  }\n));</code></pre></div>","position":{"start":{"line":38,"column":1,"offset":1436},"end":{"line":67,"column":4,"offset":2244}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"en app.js importar ","position":{"start":{"line":69,"column":1,"offset":2246},"end":{"line":69,"column":20,"offset":2265}}}],"position":{"start":{"line":69,"column":1,"offset":2246},"end":{"line":69,"column":20,"offset":2265}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var passport = require(&#39;passport&#39;)// necesario\n//import passport from &#39;passport&#39;;</code></pre></div>","position":{"start":{"line":70,"column":1,"offset":2266},"end":{"line":73,"column":4,"offset":2355}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/*revisando passport*/\napp.use(passport.initialize())\nrequire(&#39;./authenticate&#39;); // o import\napp.get(&#39;/google&#39;, passport.authenticate(&#39;google&#39;, { scope: [&#39;profile&#39;, &#39;email&#39;] }));\napp.get(&#39;/google/callback&#39;,    passport.authenticate(&#39;google&#39;, {\n      successRedirect: &#39;/welcome&#39;, // es una &#39;vista&#39;\n      failureRedirect: &#39;/failed&#39;,  // es una &#39;vista&#39;\n    }));</code></pre></div>","position":{"start":{"line":74,"column":1,"offset":2356},"end":{"line":85,"column":4,"offset":2724}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"probar alguna ruta\nir a ","position":{"start":{"line":87,"column":3,"offset":2728},"end":{"line":88,"column":6,"offset":2753}}},{"type":"element","tagName":"a","properties":{"href":"http://localhost:3000/google","target":"_blank","rel":"nofollow"},"children":[{"type":"text","value":"http://localhost:3000/google","position":{"start":{"line":88,"column":6,"offset":2753},"end":{"line":88,"column":34,"offset":2781}}}],"position":{"start":{"line":88,"column":6,"offset":2753},"end":{"line":88,"column":34,"offset":2781}}},{"type":"text","value":" y logearse para ser rerigido a la vista/ruta /welcome","position":{"start":{"line":88,"column":34,"offset":2781},"end":{"line":88,"column":88,"offset":2835}}}],"position":{"start":{"line":87,"column":1,"offset":2726},"end":{"line":88,"column":88,"offset":2835}}},{"type":"text","value":"\n"}],"position":{"start":{"line":87,"column":1,"offset":2726},"end":{"line":88,"column":88,"offset":2835}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"proteger rutas con un middlware","position":{"start":{"line":90,"column":3,"offset":2839},"end":{"line":90,"column":34,"offset":2870}}}],"position":{"start":{"line":90,"column":1,"offset":2837},"end":{"line":90,"column":34,"offset":2870}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"debe ser accesible solo para los que esten logeados","position":{"start":{"line":91,"column":3,"offset":2873},"end":{"line":91,"column":54,"offset":2924}}}],"position":{"start":{"line":91,"column":1,"offset":2871},"end":{"line":91,"column":56,"offset":2926}}}],"position":{"start":{"line":91,"column":1,"offset":2871},"end":{"line":91,"column":56,"offset":2926}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"1- crear MIDDLEWARE/proteccion check is logged or not","position":{"start":{"line":94,"column":1,"offset":2929},"end":{"line":94,"column":54,"offset":2982}}}],"position":{"start":{"line":94,"column":1,"offset":2929},"end":{"line":94,"column":54,"offset":2982}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">export function isLogged(req, res, next) { // revisa\n  req.user ? next() : res.sendStatus(401); // revisa google trae usuario\n}</code></pre></div>","position":{"start":{"line":95,"column":1,"offset":2983},"end":{"line":99,"column":4,"offset":3118}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">app.use(&#39;/&#39;,isLogged, mivistahome);</code></pre></div>","position":{"start":{"line":100,"column":1,"offset":3119},"end":{"line":102,"column":4,"offset":3162}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"agregar sessiones para permitirnos ingrsar :]","position":{"start":{"line":103,"column":3,"offset":3165},"end":{"line":103,"column":48,"offset":3210}}}],"position":{"start":{"line":103,"column":1,"offset":3163},"end":{"line":103,"column":48,"offset":3210}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"2- usar sessions , npm i express-session","position":{"start":{"line":104,"column":1,"offset":3211},"end":{"line":104,"column":41,"offset":3251}}}],"position":{"start":{"line":104,"column":1,"offset":3211},"end":{"line":104,"column":41,"offset":3251}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"key , inicializa , inicializa session ","position":{"start":{"line":105,"column":3,"offset":3254},"end":{"line":105,"column":41,"offset":3292}}}],"position":{"start":{"line":105,"column":3,"offset":3254},"end":{"line":105,"column":41,"offset":3292}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">app.use(session({ secret: &#39;boby&#39; })); // set my session key\napp.use(passport.initialize()); // session start\napp.use(passport.session()); // session for passport</code></pre></div>","position":{"start":{"line":106,"column":1,"offset":3293},"end":{"line":110,"column":4,"offset":3462}}},{"type":"text","value":"\n"}],"position":{"start":{"line":105,"column":1,"offset":3252},"end":{"line":110,"column":4,"offset":3462}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"y podemos crear el logout","position":{"start":{"line":111,"column":4,"offset":3466},"end":{"line":111,"column":29,"offset":3491}}}],"position":{"start":{"line":111,"column":4,"offset":3466},"end":{"line":111,"column":29,"offset":3491}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">loginRouter.get(&#39;/logout&#39;, (req,res)=&gt;{\nreq.logout();\nreq.session.destroy()\n// req.session.destroy()\nres.send(&#39;bye!!&#39;);\n}) </code></pre></div>","position":{"start":{"line":112,"column":1,"offset":3492},"end":{"line":119,"column":4,"offset":3631}}},{"type":"text","value":"\n"}],"position":{"start":{"line":111,"column":1,"offset":3463},"end":{"line":119,"column":4,"offset":3631}}},{"type":"text","value":"\n"}],"position":{"start":{"line":105,"column":1,"offset":3252},"end":{"line":119,"column":4,"offset":3631}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"si logramos autenticarnos los dato se guardarne n\nreq.session y este contendra varios objetos uno es PASSPORT , que\nes el que creamos normlamente en app.js 'app.use(passpor.session())'","position":{"start":{"line":121,"column":1,"offset":3633},"end":{"line":123,"column":69,"offset":3818}}}],"position":{"start":{"line":121,"column":1,"offset":3633},"end":{"line":123,"column":69,"offset":3818}}},{"type":"text","value":"\n"},{"type":"raw","value":"<!-- req.session.user = req.user;  -->","position":{"start":{"line":124,"column":1,"offset":3819},"end":{"line":124,"column":39,"offset":3857}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":" si imprimimos  req.session  en el Middleware de isLogged lo vemos.","position":{"start":{"line":125,"column":1,"offset":3858},"end":{"line":125,"column":68,"offset":3925}}}],"position":{"start":{"line":125,"column":1,"offset":3858},"end":{"line":125,"column":68,"offset":3925}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"req.session","position":{"start":{"line":131,"column":3,"offset":3935},"end":{"line":131,"column":14,"offset":3946}}}],"position":{"start":{"line":131,"column":3,"offset":3935},"end":{"line":131,"column":14,"offset":3946}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Session {\ncookie: { path: &#39;/&#39;, _expires: null, originalMaxAge: null, httpOnly: true },\npassport: {\nuser: {\n  id: &#39;107809872631362401677&#39;,\n  displayName: &#39;HylianN 92&#39;,\n  name: [Object],\n  emails: [Array],\n  photos: [Array],\n  provider: &#39;google&#39;,\n  _raw: &#39;{\\n&#39; +\n    &#39;  &quot;sub&quot;: &quot;107809872631362401677&quot;,\\n&#39; +\n    &#39;  &quot;name&quot;: &quot;HylianN 92&quot;,\\n&#39; +\n    &#39;  &quot;given_name&quot;: &quot;HylianN&quot;,\\n&#39; +\n    &#39;  &quot;family_name&quot;: &quot;92&quot;,\\n&#39; +\n    &#39;  &quot;picture&quot;: &quot;https://lh3.googleusercontent.com/a-/AOh14GgdK0REtqYRffIuJTZokeTnYB_UncprsTyH18Y6eA\\\\u003ds96-c&quot;,\\n&#39; +\n    &#39;  &quot;email&quot;: &quot;hyliankz@gmail.com&quot;,\\n&#39; +\n    &#39;  &quot;email_verified&quot;: true,\\n&#39; +\n    &#39;  &quot;locale&quot;: &quot;es-419&quot;\\n&#39; +\n    &#39;}&#39;,\n  _json: [Object]\n}\n}\n}</code></pre></div>","position":{"start":{"line":132,"column":1,"offset":3947},"end":{"line":156,"column":2,"offset":4706}}},{"type":"text","value":"\n"}],"position":{"start":{"line":131,"column":1,"offset":3933},"end":{"line":156,"column":2,"offset":4706}}},{"type":"text","value":"\n"}],"position":{"start":{"line":131,"column":1,"offset":3933},"end":{"line":156,"column":2,"offset":4706}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">req.session.passport.user.X</code></pre></div>","position":{"start":{"line":158,"column":1,"offset":4708},"end":{"line":159,"column":28,"offset":4739}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":159,"column":28,"offset":4739}}}}